{"ast":null,"code":"import _regeneratorRuntime from\"/home/cf/Documentos/nlw/react-app-nlw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/cf/Documentos/nlw/react-app-nlw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/cf/Documentos/nlw/react-app-nlw/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import illustrationImg from\"../images/illustration.svg\";import logoImg from\"../images/logo.svg\";import'.././styles/auth.scss';import{Button}from'../components/Button';import{Link,useHistory}from'react-router-dom';import{useContext,useState}from'react';import{AuthContext}from'../contexts/AuthContext';import{database}from'../services/firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function NewRoom(){var _useContext=useContext(AuthContext),user=_useContext.user;var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newRoom=_useState2[0],setNewRoom=_useState2[1];function handleCreateRoom(_x){return _handleCreateRoom.apply(this,arguments);}function _handleCreateRoom(){_handleCreateRoom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var roomRef,firebaseRoom;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(newRoom.trim()==='')){_context.next=3;break;}return _context.abrupt(\"return\");case 3:roomRef=database.ref('rooms');_context.next=6;return roomRef.push({title:newRoom,authorId:user.id});case 6:firebaseRoom=_context.sent;history.push(\"/rooms/\".concat(firebaseRoom.key));case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleCreateRoom.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{id:\"page-auth\",children:[/*#__PURE__*/_jsxs(\"aside\",{children:[/*#__PURE__*/_jsx(\"img\",{src:illustrationImg,alt:\"Perguntas e Respostas\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Crie salas de Q&A ao-vivo \"}),/*#__PURE__*/_jsx(\"p\",{children:\"Tire as d\\xFAvidas da sua audi\\u1EBDncia em tempo- real \"})]}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImg,alt:\"logo-letmeask\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Criar uma nova sala\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateRoom,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nome da sala\",onChange:function onChange(event){return setNewRoom(event.target.value);},value:newRoom}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Criar sala\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quer entrar em uma sala existente ? \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Clique aqui\"}),\" \"]})]})})]});}","map":{"version":3,"sources":["/home/cf/Documentos/nlw/react-app-nlw/src/pages/NewRoom.js"],"names":["Button","Link","useHistory","useContext","useState","AuthContext","database","NewRoom","user","history","newRoom","setNewRoom","handleCreateRoom","event","preventDefault","trim","roomRef","ref","push","title","authorId","id","firebaseRoom","key","illustrationImg","logoImg","target","value"],"mappings":"ijBAEA,MAAO,uBAAP,CACA,OAASA,MAAT,KAAuB,sBAAvB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,OAASC,QAAT,KAAyB,sBAAzB,C,wFAIA,MAAO,SAASC,CAAAA,OAAT,EAAkB,iBACNJ,UAAU,CAACE,WAAD,CADJ,CACdG,IADc,aACdA,IADc,CAEzB,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAFyB,cAGIE,QAAQ,CAAC,EAAD,CAHZ,wCAGlBM,OAHkB,eAGVC,UAHU,uBAKVC,CAAAA,gBALU,4JAKzB,iBAAgCC,KAAhC,2IACAA,KAAK,CAACC,cAAN,GADA,KAGGJ,OAAO,CAACK,IAAR,KAAkB,EAHrB,kEAOOC,OAPP,CAOiBV,QAAQ,CAACW,GAAT,CAAa,OAAb,CAPjB,uBAQ2BD,CAAAA,OAAO,CAACE,IAAR,CAAa,CACpCC,KAAK,CAAET,OAD6B,CAEpCU,QAAQ,CAAEZ,IAAI,CAACa,EAFqB,CAAb,CAR3B,QAQMC,YARN,eAaAb,OAAO,CAACS,IAAR,kBAAuBI,YAAY,CAACC,GAApC,GAbA,sDALyB,mDAqBrB,mBACI,aAAK,EAAE,CAAC,WAAR,wBACA,sCACA,YAAK,GAAG,CAAEC,eAAV,CAA2B,GAAG,CAAC,uBAA/B,EADA,cAEI,sDAFJ,cAGI,+EAHJ,GADA,cAUA,mCACA,aAAK,SAAS,CAAC,cAAf,wBACA,YAAK,GAAG,CAAEC,OAAV,CAAmB,GAAG,CAAC,eAAvB,EADA,cAER,2CAFQ,cAGA,cAAM,QAAQ,CAAEb,gBAAhB,wBACI,cACA,IAAI,CAAC,MADL,CAEA,WAAW,CAAC,cAFZ,CAGA,QAAQ,CAAE,kBAAAC,KAAK,QAAIF,CAAAA,UAAU,CAACE,KAAK,CAACa,MAAN,CAAaC,KAAd,CAAd,EAHf,CAIA,KAAK,CAAEjB,OAJP,EADJ,cAQA,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,wBARA,GAHA,cAmBA,yEAAuC,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,yBAAvC,OAnBA,GADA,EAVA,GADJ,CA8CH","sourcesContent":["import illustrationImg from '../images/illustration.svg'\nimport logoImg from '../images/logo.svg'\nimport '.././styles/auth.scss'\nimport { Button } from '../components/Button'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useContext, useState } from 'react'\nimport { AuthContext } from '../contexts/AuthContext'\nimport { database } from '../services/firebase'\n\n\n\nexport function NewRoom(){\n    const {user} = useContext(AuthContext)\nconst history = useHistory()\nconst [newRoom,setNewRoom] = useState('')\n\nasync function handleCreateRoom(event){\nevent.preventDefault()\n\nif(newRoom.trim() ===''){\n    return\n}\n\nconst  roomRef = database.ref('rooms')\nconst firebaseRoom = await roomRef.push({\n    title :newRoom,\n    authorId: user.id,\n})\n\nhistory.push(`/rooms/${firebaseRoom.key}`)\n\n}\n    return(\n        <div id=\"page-auth\" >\n        <aside>\n        <img src={illustrationImg} alt='Perguntas e Respostas' />\n            <strong>Crie salas de Q&amp;A ao-vivo </strong>\n            <p>Tire as dúvidas da sua audiẽncia em tempo- real </p>\n        \n        \n        \n        </aside>\n        \n        <main>\n        <div className='main-content' >\n        <img src={logoImg} alt='logo-letmeask'/>\n<h2>Criar uma nova sala</h2>      \n        <form onSubmit={handleCreateRoom} >\n            <input\n            type='text'\n            placeholder='Nome da sala'\n            onChange={event => setNewRoom(event.target.value)}\n            value={newRoom}\n            />\n         \n        <Button type='submit' >\n        Criar sala\n        \n        \n        </Button>\n        \n        \n        </form>\n        <p>Quer entrar em uma sala existente ? <Link to='/' >Clique aqui</Link> </p>\n        </div>\n        \n        \n        </main>\n        \n        \n        </div>\n        \n        \n        \n        )\n        \n\n\n}"]},"metadata":{},"sourceType":"module"}